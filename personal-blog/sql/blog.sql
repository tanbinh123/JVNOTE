/*
SQLyog Ultimate v8.32 
MySQL - 5.5.36 : Database - blog_db
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`blog_db` /*!40100 DEFAULT CHARACTER SET utf8 */;

USE `blog_db`;

/*Table structure for table `comment` */

DROP TABLE IF EXISTS `comment`;

CREATE TABLE `comment` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `con_id` bigint(20) DEFAULT NULL,
  `com_id` bigint(20) DEFAULT NULL,
  `by_id` bigint(20) DEFAULT NULL,
  `com_content` text,
  `comm_time` datetime DEFAULT NULL,
  `children` varchar(255) DEFAULT NULL,
  `upvote` int(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `comment_index_key` (`id`),
  KEY `FK_Reference_7` (`com_id`),
  KEY `FK_Reference_8` (`con_id`),
  KEY `FK_Reference_9` (`by_id`)
) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;

/*Data for the table `comment` */

insert  into `comment`(`id`,`con_id`,`com_id`,`by_id`,`com_content`,`comm_time`,`children`,`upvote`) values (1,1,7,NULL,'6666','2019-02-18 11:35:33','',0),(2,2,7,NULL,'123456','2019-02-18 18:22:47',NULL,0),(4,20,7,NULL,'测试评论','2019-02-19 11:03:01',NULL,0);

/*Table structure for table `login_log` */

DROP TABLE IF EXISTS `login_log`;

CREATE TABLE `login_log` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `u_id` bigint(20) DEFAULT NULL,
  `ip` varchar(255) DEFAULT NULL,
  `create_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `login_log_index_key` (`id`),
  KEY `FK_Reference_12` (`u_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

/*Data for the table `login_log` */

/*Table structure for table `upvote` */

DROP TABLE IF EXISTS `upvote`;

CREATE TABLE `upvote` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `u_id` bigint(20) DEFAULT NULL,
  `content_id` bigint(20) DEFAULT NULL,
  `ip` varchar(255) DEFAULT NULL,
  `upvote` varchar(1) DEFAULT NULL,
  `downvote` varchar(1) DEFAULT NULL,
  `upvote_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `upvote_index_key` (`id`),
  KEY `FK_Reference_10` (`u_id`),
  KEY `FK_Reference_11` (`content_id`)
) ENGINE=MyISAM AUTO_INCREMENT=30 DEFAULT CHARSET=utf8;

/*Data for the table `upvote` */

insert  into `upvote`(`id`,`u_id`,`content_id`,`ip`,`upvote`,`downvote`,`upvote_time`) values (29,7,20,'0:0:0:0:0:0:0:1','1',NULL,'2019-02-19 11:03:04'),(28,7,1,'0:0:0:0:0:0:0:1','1',NULL,'2019-02-18 18:22:10');

/*Table structure for table `user` */

DROP TABLE IF EXISTS `user`;

CREATE TABLE `user` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `email` varchar(255) DEFAULT NULL,
  `password` varchar(255) DEFAULT NULL,
  `phone` varchar(11) DEFAULT NULL,
  `nick_name` varchar(255) DEFAULT NULL,
  `state` varchar(1) DEFAULT NULL,
  `img_url` varchar(255) DEFAULT NULL,
  `enable` varchar(1) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_index_key` (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;

/*Data for the table `user` */

insert  into `user`(`id`,`email`,`password`,`phone`,`nick_name`,`state`,`img_url`,`enable`) values (7,'1916986844@qq.com','a2819c56c4033ec8f3a6ca3e4939a9ef','15989584547','小谢','1','/images/image/20190219/20190219113145_541.jpg','1'),(8,'1510543036@qq.com','a2819c56c4033ec8f3a6ca3e4939a9ef','13049866050','小黑','1','/images/image/20190219/20190219113145_441.jpg','1');

/*Table structure for table `user_content` */

DROP TABLE IF EXISTS `user_content`;

CREATE TABLE `user_content` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `u_id` bigint(20) DEFAULT NULL,
  `title` varchar(255) DEFAULT NULL,
  `category` varchar(255) DEFAULT NULL,
  `content` text,
  `personal` varchar(1) DEFAULT NULL,
  `rpt_time` datetime DEFAULT NULL,
  `img_url` varchar(255) DEFAULT NULL,
  `nick_name` varchar(255) DEFAULT NULL,
  `upvote` int(100) DEFAULT NULL,
  `downvote` int(100) DEFAULT NULL,
  `comment_num` int(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_content_index_key` (`id`),
  KEY `FK_Reference_6` (`u_id`)
) ENGINE=MyISAM AUTO_INCREMENT=23 DEFAULT CHARSET=utf8;

/*Data for the table `user_content` */

insert  into `user_content`(`id`,`u_id`,`title`,`category`,`content`,`personal`,`rpt_time`,`img_url`,`nick_name`,`upvote`,`downvote`,`comment_num`) values (1,8,'深夜的思考','其他','<p>\r\n	人生如梦，想过去的种种。。。\r\n</p>\r\n<p>\r\n	<img src=\"/images/image/20180109/20180109153802_373.png\" alt=\"\" />','0','2019-04-22 11:10:29','/images/image/20190219/20190219113145_441.jpg','小黑',267,-93,1),(2,7,'关于步步高的梦','其他','<p>\r\n	我梦见以前的老师因为没交作业，让我们几个跳《步步高》的舞蹈，然后让隔壁班没交作业的同学表演时装秀，然后我们两个班比赛…… \r\n我觉得好荒唐，还跳《步步高》呢，给我们准备了不少道具，我们居然也跳了，真是蠢的可以 \r\n请问这个梦代表什么啊，不过我在做这个梦的时候还是很开心的<img src=\"css/zui/lib/kindeditor/plugins/emoticons/images/13.gif\" border=\"0\" alt=\"\" />\r\n</p>\r\n<p>\r\n	<img src=\"/images/image/20180109/20180109154149_473.png\" alt=\"\" />\r\n</p>','1','2018-04-22 11:14:39','/images/image/20190219/20190219113145_541.jpg','小谢',256525868,-3,1),(3,7,'梦见会开车','惊悚','<p>\r\n	我做梦自己会开车了，但是不知道咋停车，开到一个下坡停不下来了眼看要撞墙了，踩刹车也停不下来，还在往下滑，旁边还停着车咋办啊，急死我了，这时候我急中生智，把车门打开，脚伸到外面，脚踩地上，下坡滑行，用脚和地面产生摩擦，就像骑自行车那样，然后方向盘一打，车稳稳的和旁边那辆并排停在了一起，哈哈哈。/:no完美/:no\r\n</p>\r\n<p>\r\n	<img src=\"/images/image/20180109/20180109154413_551.png\" alt=\"\" />\r\n</p>','0','2018-04-22 11:18:49','/images/image/20190219/20190219113145_541.jpg','小谢',60,-569,0),(4,7,'梦见男神','爱情','<p>\r\n	我梦见男神给我表白，然后我们在一起了，醒来以后兴致冲冲的给他发了一个早，他说，我和我对象聊天呢！\r\n</p>\r\n<p>\r\n	<img src=\"/images/image/20180109/20180109155330_24.png\" alt=\"\" />\r\n</p>','0','2018-04-22 11:18:38','/images/image/20190219/20190219113145_541.jpg','小谢',6,-9,0),(5,7,'梦见高中班主任','爱情','<p>我记得最搞笑的一个是我在上课的时候做的\r\n　　那时候高中 班主任是一个特别瘦小的男人 身高一米六那种\r\n　　然后班里有一个特别壮的女的\r\n　　身高一米七 体重一百七那种\r\n　　然后我梦到我们班主任带我们出去郊游\r\n　　玩的好开心了\r\n　　要过一条河\r\n　　结果河上面只有条特别小的木板桥\r\n　　我们班姑娘多不敢过\r\n　　班主任就一个一个背我们过去\r\n　　然后最后背那个胖姑娘的时候\r\n　　所有人都在对面看着班主任费力的背着那姑娘\r\n　　背到桥中间的时候 桥塌了哈哈哈\r\n　　他两人都掉进水里了哈哈哈\r\n　　前后我们笑疯了\r\n　　然后我就笑醒了\r\n　　醒了发现我还趴在课桌上哈哈哈</p><img src=\"/images/image/20180109/20180109170010_505.png\" alt=\"\" />','0','2018-04-22 11:24:31','/images/image/20190219/20190219113145_541.jpg','小谢',2,-7,0),(6,7,'惊悚古老小镇','惊悚','<p>\r\n	梦见一家人出去旅游。然后是那种特别特别古老小城吧。住了一家客栈，然后很古色古香，但是老板贼古怪。然后我记不清发生了什么，反正最后只剩下我和我哥。直接哭醒的。而且很可怕的是，本来梦应该是乱七八糟不切合实际的但他特别特别的有连贯性而且很正常\r\n</p>\r\n<p>\r\n	<img src=\"/images/image/20180109/20180109204644_109.png\" alt=\"\" />\r\n</p>','0','2018-04-22 11:23:12','/images/image/20190219/20190219113145_541.jpg','小谢',130,-23,0),(7,7,'恐怖的夜晚','惊悚','<p>\r\n	在一个夜黑风高的夜晚\r\n</p>\r\n<p>\r\n	<img src=\"/images/image/20180111/20180111113214_879.png\" alt=\"\" />\r\n</p>','0','2018-03-02 13:43:15','/images/image/20190219/20190219113145_541.jpg','小谢',70,-40,0),(9,7,'aaa','工作','fdsfdsf','0','2018-03-02 13:43:16','/images/image/20190219/20190219113145_541.jpg','小谢',3400,-141,0),(10,7,'fgdgdg','武侠','<p>\r\n	fdsg梵蒂冈\r\n</p>\r\n<p>\r\n	&nbsp;<img src=\"/images/image/20180111/20180111173656_386.png\" alt=\"\" />\r\n</p>','0','2018-03-02 13:43:19','/images/image/20190219/20190219113145_541.jpg','小谢',559865,-113,0),(11,7,'奇葩的动物世界','动物','<div class=\"para\" style=\"font-size:14px;color:#333333;font-family:arial, 宋体, sans-serif;background-color:#FFFFFF;\">\r\n	&nbsp;&nbsp;&nbsp;&nbsp;动物分类学家根据动物的各种特征（形态、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E7%BB%86%E8%83%9E/84931\">细胞</a>、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E9%81%97%E4%BC%A0/13016341\">遗传</a>、生理、生态和地理分布等）进行分类，将动物依次分为6个主要等级，即门、纲、目、科、属、种。\r\n</div>\r\n<div class=\"para\" style=\"font-size:14px;color:#333333;font-family:arial, 宋体, sans-serif;background-color:#FFFFFF;\">\r\n	根据<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%8C%96%E7%9F%B3/82301\">化石</a>研究，<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%9C%B0%E7%90%83/6431\">地球</a>上最早出现的动物源于<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E6%B5%B7%E6%B4%8B/523\">海洋</a>。早期的海洋动物经过漫长的<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%9C%B0%E8%B4%A8%E6%97%B6%E6%9C%9F\">地质时期</a>，逐渐<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E6%BC%94%E5%8C%96\">演化</a>出各种分支，丰富了早期的<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%9C%B0%E7%90%83%E7%94%9F%E5%91%BD\">地球生命</a>形态。在人类出现以前，<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%8F%B2%E5%89%8D%E5%8A%A8%E7%89%A9\">史前动物</a>便已出现，并在各自的活动期得到繁荣发展。后来，它们在不断变换的<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E7%94%9F%E5%AD%98%E7%8E%AF%E5%A2%83\">生存环境</a>下相继灭绝。但是，地球上的动物仍以从低等到高等、从简单到复杂的趋势不断<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E8%BF%9B%E5%8C%96/33490\">进化</a>并<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E7%B9%81%E8%A1%8D/2013059\">繁衍</a>至今，并有了如今的多样性。\r\n</div>\r\n<div class=\"para\" style=\"font-size:14px;color:#333333;font-family:arial, 宋体, sans-serif;background-color:#FFFFFF;\">\r\n	科学家们把现存的人类已知的动物分为<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E6%97%A0%E8%84%8A%E6%A4%8E%E5%8A%A8%E7%89%A9\">无脊椎动物</a>和<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E8%84%8A%E6%A4%8E%E5%8A%A8%E7%89%A9\">脊椎动物</a>两大类。科学家已经鉴别出46900多种脊椎动物。包括<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E9%B2%A4%E9%B1%BC\">鲤鱼</a>、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E9%BB%84%E9%B1%BC\">黄鱼</a>等鱼类动物，蛇、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E8%9C%A5%E8%9C%B4\">蜥蜴</a>等爬行类动物，<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E9%9D%92%E8%9B%99/35489\">青蛙</a>、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%A8%83%E5%A8%83%E9%B1%BC\">娃娃鱼</a>等<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E4%B8%A4%E6%A0%96%E7%B1%BB%E5%8A%A8%E7%89%A9\">两栖类动物</a>，鸟类以及<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E7%BA%A2%E7%86%8A%E7%8C%AB\">红熊猫</a>等<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%93%BA%E4%B9%B3%E7%B1%BB%E5%8A%A8%E7%89%A9\">哺乳类动物</a>等。\r\n</div>\r\n<div class=\"para\" style=\"font-size:14px;color:#333333;font-family:arial, 宋体, sans-serif;background-color:#FFFFFF;\">\r\n	科学家们还发现了130多万种无脊椎动物。这些动物中多数是昆虫，昆虫中多数是甲虫。<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E9%BC%BB%E6%B6%95%E8%99%AB/3613\">鼻涕虫</a>、蚯蚓，<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E4%B9%8C%E8%B4%BC\">乌贼</a>、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E7%89%A1%E8%9B%8E\">牡蛎</a>、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E7%BA%A2%E6%B5%B7%E6%98%9F\">红海星</a>、水母，蜘蛛，珊瑚虫、放射虫、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E8%9B%94%E8%99%AB\">蛔虫</a>、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E7%8C%AA%E8%82%89%E7%BB%A6%E8%99%AB\">猪肉绦虫</a>、沙蚕、蜗牛、<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E8%9B%9E%E8%9D%93/24262\">蛞蝓</a>等都属于无脊椎动物。\r\n</div>\r\n<p style=\"font-size:14px;color:#333333;font-family:arial, 宋体, sans-serif;background-color:#FFFFFF;\">\r\n	<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%8A%A8%E7%89%A9/216062\">动物</a>界所有成员的身体都是由细胞组成的<a target=\"_blank\" href=\"https://baike.baidu.com/item/%E5%BC%82%E5%85%BB\">异养</a><a target=\"_blank\" href=\"https://baike.baidu.com/item/%E6%9C%89%E6%9C%BA%E4%BD%93\">有机体</a>。\r\n</p>\r\n<p style=\"font-size:14px;color:#333333;font-family:arial, 宋体, sans-serif;background-color:#FFFFFF;\">\r\n	<img src=\"/images/image/20180112/20180112111036_828.jpg\" alt=\"\" />\r\n</p>\r\n<p style=\"font-size:14px;color:#333333;font-family:arial, 宋体, sans-serif;background-color:#FFFFFF;\">\r\n	<img src=\"css/zui/lib/kindeditor/plugins/emoticons/images/13.gif\" border=\"0\" alt=\"\" />\r\n</p>','0','2018-02-27 18:55:35','/images/image/20190219/20190219113145_541.jpg','小谢',12593,-2241,0),(12,7,'吃货的世界','美食','吃货的世界我们不懂<img src=\"css/zui/lib/kindeditor/plugins/emoticons/images/29.gif\" border=\"0\" alt=\"\" />','0','2018-02-27 19:25:16','/images/image/20190219/20190219113145_541.jpg','小谢',0,0,0),(13,7,'梦是奇妙的','其他','梦是无从开始。无从结束的','1','2018-02-23 17:13:27','/images/image/20190219/20190219113145_541.jpg','小谢',0,0,0),(14,7,'干豆腐','爱情','范德萨<img src=\"css/zui/lib/kindeditor/plugins/emoticons/images/30.gif\" border=\"0\" alt=\"\" />','1','2018-02-23 17:13:28','/images/image/20190219/20190219113145_541.jpg','小谢',0,0,0),(15,7,'流浪地球','武侠','<p><span style=\"font-size: 16px;\">从大年初一到现在，最火的字眼绝对是</span><span><strong><span style=\"font-size: 16px;\">《流浪地球》</span></strong></span><span style=\"font-size: 16px;\">。</span></p> \r\n<p><span style=\"font-size: 16px;\">上映7天突破</span><span style=\"font-size: 16px;\"><strong>20亿</strong></span><span style=\"font-size: 16px;\">，10天</span><strong><span style=\"font-size: 16px;\">30亿</span></strong><span style=\"font-size: 16px;\">。</span></p> \r\n<p><span style=\"font-size: 16px;\">截止到2月19日晚，《流浪地球》票房正式突破</span><span><strong><span style=\"font-size: 16px;\">40亿</span></strong></span><span style=\"font-size: 16px;\">，成为中国影史第二个破40亿票房的电影，位列中国影史票房第二位，仅次于《战狼2》。</span></p> \r\n<p><span style=\"font-size: 16px;\">按每张票价50元计，观影人次将近8000万。</span></p> \r\n<p style=\"text-align: center;\"><img src=\"http://5b0988e595225.cdn.sohucs.com/images/20190222/d3ad6b5ec3a7410a832a44513fa40f8e.jpeg\" /></p> ','0','2019-02-23 17:13:30','/images/image/20190219/20190219113145_541.jpg','小谢',1,-1,0),(16,7,'天气预报','武侠','<p>中央气象台预计，未来一周我国南方阴雨仍会持续，其中今天华南等地雨势增强，广西东部、广东中北部、福建南部等地将有大雨、局地暴雨。另外在新疆北部、青藏高原北部和中东部、甘肃中南部、宁夏南部、陕西西部等地的部分地区，今天还会出现小到中雪或雨夹雪，局地有大雪，要防范雨雪天气对出行的不利影响。 </p> \r\n<table> \r\n <tbody> \r\n  <tr> \r\n   <td><p align=\"center\"><img src=\"http://5b0988e595225.cdn.sohucs.com/images/20190223/77c43a4a0af847e681d51f1c4d782cbf.jpeg\" width=\"500\" height=\"376\" /></p></td> \r\n  </tr> \r\n </tbody> \r\n</table> ','0','2019-02-23 17:13:32','/images/image/20190219/20190219113145_541.jpg','小谢',0,0,0),(17,7,'五种方式让你在java中读取properties文件内容不再是难题','工作','<h3 style=\"font-family:微软雅黑, 宋体, 黑体, Arial;font-size:16px;font-weight:normal;background:#EEEEEE;color:red;text-align:justify;\">\r\n	一、背景\r\n</h3>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	最近，在项目开发的过程中，遇到需要在properties文件中定义一些自定义的变量，以供java程序动态的读取，修改变量，不再需要修改代码的问题。就借此机会把Spring+SpringMVC+Mybatis整合开发的项目中通过java程序读取properties文件内容的方式进行了梳理和分析，现和大家共享。\r\n</p>\r\n<h3 style=\"font-family:微软雅黑, 宋体, 黑体, Arial;font-size:16px;font-weight:normal;background:#EEEEEE;color:red;text-align:justify;\">\r\n	二、项目环境介绍\r\n</h3>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	&nbsp; &nbsp; Spring&nbsp;4.2.6.RELEASE\r\n</p>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	&nbsp; &nbsp; SpringMvc&nbsp;4.2.6.RELEASE\r\n</p>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	&nbsp; &nbsp; Mybatis&nbsp;3.2.8\r\n</p>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	&nbsp; &nbsp; Maven 3.3.9\r\n</p>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	&nbsp; &nbsp; Jdk 1.7\r\n</p>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	&nbsp; &nbsp; Idea 15.04\r\n</p>\r\n<h3 style=\"font-family:微软雅黑, 宋体, 黑体, Arial;font-size:16px;font-weight:normal;background:#EEEEEE;color:red;text-align:justify;\">\r\n	三、五种实现方式\r\n</h3>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	<strong><span style=\"color:#FF0000;\">方式1</span><span style=\"color:#FF0000;\">.通过context:property-placeholder加载配置文件jdbc.properties中的内容</span></strong>\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">context:property-placeholder </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">location</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"classpath:jdbc.properties\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> ignore-unresolvable</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"true\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">/&gt;</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	上面的配置和下面配置等价，是对下面配置的简化\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">bean </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">id</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"propertyConfigurer\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> class</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">name</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"ignoreUnresolvablePlaceholders\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"true\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">/&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">name</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"locations\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">list</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span>classpath:jdbc.properties<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">list</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">bean</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	注意：这种方式下，如果你在spring-mvc.xml文件中有如下配置，则一定不能缺少下面的红色部分，关于它的作用以及原理，参见另一篇博客：<span><span style=\"color:#FF0000;\"><strong><a id=\"homepage1_HomePageDays_DaysList_ctl00_DayList_TitleUrl_0\" class=\"postTitle2\" href=\"http://www.cnblogs.com/hafiz/p/5875770.html\" target=\"_blank\"><span style=\"color:#FF0000;\">context:component-scan标签的use-default-filters属性的作用以及原理分析</span></a></strong></span></span>\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre>&lt;!-- 配置组件扫描，springmvc容器中只扫描Controller注解 --&gt;\r\n&lt;context:component-scan base-<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">package</span>=\"com.hafiz.www\" <span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">use-default-filters=\"false\"</span>&gt;\r\n    &lt;context:include-filter type=\"annotation\" expression=\"org.springframework.stereotype.Controller\"/&gt;\r\n&lt;/context:component-scan&gt;</pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	<strong><span style=\"color:#FF0000;\">方式2</span><span style=\"color:#FF0000;\"><strong>.</strong>使用注解的方式注入，主要用在java代码中使用注解注入properties文件中相应的value值</span></strong>\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">bean </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">id</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"prop\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> class</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">&lt;!--</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> 这里是PropertiesFactoryBean类，它也有个locations属性，也是接收一个数组，跟上面一样 </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">--&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">name</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"locations\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">array</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span>classpath:jdbc.properties<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">array</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">bean</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	<span style=\"color:#FF0000;\"><strong>方式3.使用util:properties标签进行暴露properties文件中的内容</strong></span>\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">util:properties </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">id</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"propertiesReader\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> location</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"classpath:jdbc.properties\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">/&gt;</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	注意：使用上面这行配置，需要在spring-dao.xml文件的头部声明以下红色的部分\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">beans </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">xmlns</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"http://www.springframework.org/schema/beans\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\"> xmlns:xsi</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"http://www.w3.org/2001/XMLSchema-instance\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\"> xmlns:context</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"http://www.springframework.org/schema/context\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> xmlns:util=\"http://www.springframework.org/schema/util\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\"> xsi:schemaLocation=\"http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context-3.2.xsd <span style=\"color:#FF0000;line-height:1.5 !important;\">http://www.springframework.org/schema/util </span> <span style=\"color:#FF0000;line-height:1.5 !important;\"> http://www.springframework.org/schema/util/spring-util.xsd\"</span></span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	<strong><span style=\"color:#FF0000;\">方式4.通过PropertyPlaceholderConfigurer在加载上下文的时候暴露properties到自定义子类的属性中以供程序中使用</span></strong>\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">bean </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">id</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"propertyConfigurer\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> class</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"com.hafiz.www.util.PropertyConfigurer\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">name</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"ignoreUnresolvablePlaceholders\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"true\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">/&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">name</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"ignoreResourceNotFound\"</span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\"> value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"true\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">/&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property </span><span style=\"color:#FF0000;font-family:&quot;line-height:1.5 !important;\">name</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">=\"locations\"</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">list</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span>classpath:jdbc.properties<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">value</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">list</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">property</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&lt;/</span><span style=\"color:#800000;font-family:&quot;line-height:1.5 !important;\">bean</span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">&gt;</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	自定义类PropertyConfigurer的声明如下:\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">package</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.util; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.beans.BeansException; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.beans.factory.config.ConfigurableListableBeanFactory; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.beans.factory.config.PropertyPlaceholderConfigurer; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> java.util.Properties; </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * Desc:properties配置文件读取类\r\n * Created by hafiz.zhang on 2016/9/14. </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">class</span> PropertyConfigurer <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">extends</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertyPlaceholderConfigurer { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span> Properties props; <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">//</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> 存取properties配置文件key-value结果</span> <span style=\"font-family:&quot;line-height:1.5 !important;\"> @Override </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">protected</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">void</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> processProperties(ConfigurableListableBeanFactory beanFactoryToProcess, Properties props) </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">throws</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> BeansException { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">super</span><span style=\"font-family:&quot;line-height:1.5 !important;\">.processProperties(beanFactoryToProcess, props); </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">this</span>.props =<span style=\"font-family:&quot;line-height:1.5 !important;\"> props;\r\n    } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperty(String key){ </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">this</span><span style=\"font-family:&quot;line-height:1.5 !important;\">.props.getProperty(key);\r\n    } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperty(String key, String defaultValue) { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">this</span><span style=\"font-family:&quot;line-height:1.5 !important;\">.props.getProperty(key, defaultValue);\r\n    } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> Object setProperty(String key, String value) { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">this</span><span style=\"font-family:&quot;line-height:1.5 !important;\">.props.setProperty(key, value);\r\n    }\r\n}</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	使用方式：在需要使用的类中使用@Autowired注解注入即可。\r\n</p>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	<strong><span style=\"color:#FF0000;\">方式5.自定义工具类PropertyUtil，并在该类的static静态代码块中读取properties文件内容保存在static属性中以供别的程序使用</span></strong>\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">package</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.util; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.slf4j.Logger; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.slf4j.LoggerFactory; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span> java.io.*<span style=\"font-family:&quot;line-height:1.5 !important;\">; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> java.util.Properties; </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * Desc:properties文件获取工具类\r\n * Created by hafiz.zhang on 2016/9/15. </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">class</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertyUtil { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">static</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">final</span> Logger logger = LoggerFactory.getLogger(PropertyUtil.<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">class</span><span style=\"font-family:&quot;line-height:1.5 !important;\">); </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">static</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> Properties props; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">static</span><span style=\"font-family:&quot;line-height:1.5 !important;\">{\r\n        loadProps();\r\n    } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">synchronized</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">static</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">void</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> loadProps(){\r\n        logger.info(</span>\"开始加载properties文件内容.......\"<span style=\"font-family:&quot;line-height:1.5 !important;\">);\r\n        props </span>= <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">new</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> Properties();\r\n        InputStream in </span>= <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">null</span><span style=\"font-family:&quot;line-height:1.5 !important;\">; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">try</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> {\r\n　　　　　　　&lt;!--第一种，通过类加载器进行获取properties文件流--&gt;\r\n            in </span>= PropertyUtil.<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">class</span>.getClassLoader().getResourceAsStream(\"jdbc.properties\"<span style=\"font-family:&quot;line-height:1.5 !important;\">);\r\n　　　　　　  &lt;!--第二种，通过类进行获取properties文件流--&gt; </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">//</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">in = PropertyUtil.class.getResourceAsStream(\"/jdbc.properties\");</span> <span style=\"font-family:&quot;line-height:1.5 !important;\"> props.load(in);\r\n        } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">catch</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> (FileNotFoundException e) {\r\n            logger.error(</span>\"jdbc.properties文件未找到\"<span style=\"font-family:&quot;line-height:1.5 !important;\">);\r\n        } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">catch</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> (IOException e) {\r\n            logger.error(</span>\"出现IOException\"<span style=\"font-family:&quot;line-height:1.5 !important;\">);\r\n        } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">finally</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">try</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">if</span>(<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">null</span> !=<span style=\"font-family:&quot;line-height:1.5 !important;\"> in) {\r\n                    in.close();\r\n                }\r\n            } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">catch</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> (IOException e) {\r\n                logger.error(</span>\"jdbc.properties文件流关闭出现异常\"<span style=\"font-family:&quot;line-height:1.5 !important;\">);\r\n            }\r\n        }\r\n        logger.info(</span>\"加载properties文件内容完成...........\"<span style=\"font-family:&quot;line-height:1.5 !important;\">);\r\n        logger.info(</span>\"properties文件内容：\" +<span style=\"font-family:&quot;line-height:1.5 !important;\"> props);\r\n    } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">static</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperty(String key){ </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">if</span>(<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">null</span> ==<span style=\"font-family:&quot;line-height:1.5 !important;\"> props) {\r\n            loadProps();\r\n        } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> props.getProperty(key);\r\n    } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">static</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperty(String key, String defaultValue) { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">if</span>(<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">null</span> ==<span style=\"font-family:&quot;line-height:1.5 !important;\"> props) {\r\n            loadProps();\r\n        } </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> props.getProperty(key, defaultValue);\r\n    }\r\n}</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	说明：这样的话，在该类被加载的时候，它就会自动读取指定位置的配置文件内容并保存到静态属性中，高效且方便，一次加载，可多次使用。\r\n</p>\r\n<h3 style=\"font-family:微软雅黑, 宋体, 黑体, Arial;font-size:16px;font-weight:normal;background:#EEEEEE;color:red;text-align:justify;\">\r\n	四、注意事项及建议\r\n</h3>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	以上五种方式，前三种方式比较死板，而且如果你想在带有@Controller注解的Bean中使用，你需要在SpringMVC的配置文件spring-mvc.xml中进行声明，如果你想在带有@Service、@Respository等非@Controller注解的Bean中进行使用，你需要在Spring的配置文件中spring.xml中进行声明。原因请参见另一篇博客：<span><strong><span style=\"color:#FF0000;\"><a id=\"homepage1_HomePageDays_DaysList_ctl00_DayList_TitleUrl_1\" class=\"postTitle2\" href=\"http://www.cnblogs.com/hafiz/p/5875740.html\"><span style=\"color:#FF0000;\">Spring和SpringMVC父子容器关系初窥</span></a></span></strong></span>\r\n</p>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	我个人比较建议第四种和第五种配置方式，第五种为最好，它连工具类对象都不需要注入，直接调用静态方法进行获取，而且只一次加载，效率也高。而且前三种方式都不是很灵活，需要修改@Value的键值。\r\n</p>\r\n<h3 style=\"font-family:微软雅黑, 宋体, 黑体, Arial;font-size:16px;font-weight:normal;background:#EEEEEE;color:red;text-align:justify;\">\r\n	五、测试验证是否可用\r\n</h3>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	1.首先我们创建PropertiesService\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">package</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.service; </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * Desc:java程序获取properties文件内容的service\r\n * Created by hafiz.zhang on 2016/9/16. </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">interface</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertiesService { </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * 第一种实现方式获取properties文件中指定key的value\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@return</span> <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFirstWay(); </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * 第二种实现方式获取properties文件中指定key的value\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@return</span> <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyBySecondWay(); </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * 第三种实现方式获取properties文件中指定key的value\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@return</span> <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByThirdWay(); </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * 第四种实现方式获取properties文件中指定key的value\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@param</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> key\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@return</span> <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFourthWay(String key); </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * 第四种实现方式获取properties文件中指定key的value\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@param</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> key\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@param</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> defaultValue\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@return</span> <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFourthWay(String key, String defaultValue); </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * 第五种实现方式获取properties文件中指定key的value\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@param</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> key\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@return</span> <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFifthWay(String key); </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * 第五种实现方式获取properties文件中指定key的value\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@param</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> key\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@param</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> defaultValue\r\n     *\r\n     * </span><span style=\"color:#808080;font-family:&quot;line-height:1.5 !important;\">@return</span> <span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFifthWay(String key, String defaultValue);\r\n}</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	2.创建实现类PropertiesServiceImpl\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">package</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.service.impl; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.service.PropertiesService; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.util.PropertyConfigurer; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.util.PropertyUtil; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.beans.factory.annotation.Autowired; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.beans.factory.annotation.Value; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.stereotype.Service; </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * Desc:java程序获取properties文件内容的service的实现类\r\n * Created by hafiz.zhang on 2016/9/16. </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> @Service </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">class</span> PropertiesServiceImpl <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">implements</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertiesService {\r\n\r\n    @Value(</span>\"${test}\"<span style=\"font-family:&quot;line-height:1.5 !important;\">) </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String testDataByFirst;\r\n\r\n    @Value(</span>\"#{prop.test}\"<span style=\"font-family:&quot;line-height:1.5 !important;\">) </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String testDataBySecond;\r\n\r\n    @Value(</span>\"#{propertiesReader[test]}\"<span style=\"font-family:&quot;line-height:1.5 !important;\">) </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String testDataByThird;\r\n\r\n    @Autowired </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertyConfigurer pc;\r\n\r\n    @Override </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFirstWay() { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> testDataByFirst;\r\n    }\r\n\r\n    @Override </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyBySecondWay() { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> testDataBySecond;\r\n    }\r\n\r\n    @Override </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByThirdWay() { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> testDataByThird;\r\n    }\r\n\r\n    @Override </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFourthWay(String key) { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> pc.getProperty(key);\r\n    }\r\n\r\n    @Override </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFourthWay(String key, String defaultValue) { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> pc.getProperty(key, defaultValue);\r\n    }\r\n\r\n    @Override </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFifthWay(String key) { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertyUtil.getPropery(key);\r\n    }\r\n\r\n    @Override </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getProperyByFifthWay(String key, String defaultValue) { </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertyUtil.getProperty(key, defaultValue);\r\n    }\r\n}</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	3.控制器类PropertyController\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">package</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.controller; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.service.PropertiesService; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> com.hafiz.www.util.PropertyUtil; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.beans.factory.annotation.Autowired; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.stereotype.Controller; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.web.bind.annotation.PathVariable; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.web.bind.annotation.RequestMapping; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.web.bind.annotation.RequestMethod; </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">import</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> org.springframework.web.bind.annotation.ResponseBody; </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">/**</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\"> * Desc:properties测试控制器\r\n * Created by hafiz.zhang on 2016/9/16. </span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">*/</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> @Controller\r\n@RequestMapping(</span>\"/prop\"<span style=\"font-family:&quot;line-height:1.5 !important;\">) </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> <span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">class</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertyController {\r\n    @Autowired </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">private</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> PropertiesService ps;\r\n\r\n    @RequestMapping(value </span>= \"/way/first\", method =<span style=\"font-family:&quot;line-height:1.5 !important;\"> RequestMethod.GET)\r\n    @ResponseBody </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getPropertyByFirstWay(){ </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> ps.getProperyByFirstWay();\r\n    }\r\n\r\n    @RequestMapping(value </span>= \"/way/second\", method =<span style=\"font-family:&quot;line-height:1.5 !important;\"> RequestMethod.GET)\r\n    @ResponseBody </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getPropertyBySecondWay(){ </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> ps.getProperyBySecondWay();\r\n    }\r\n\r\n    @RequestMapping(value </span>= \"/way/third\", method =<span style=\"font-family:&quot;line-height:1.5 !important;\"> RequestMethod.GET)\r\n    @ResponseBody </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> String getPropertyByThirdWay(){ </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> ps.getProperyByThirdWay();\r\n    }\r\n\r\n    @RequestMapping(value </span>= \"/way/fourth/{key}\", method =<span style=\"font-family:&quot;line-height:1.5 !important;\"> RequestMethod.GET)\r\n    @ResponseBody </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> String getPropertyByFourthWay(@PathVariable(\"key\"<span style=\"font-family:&quot;line-height:1.5 !important;\">) String key){ </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span> ps.getProperyByFourthWay(key, \"defaultValue\"<span style=\"font-family:&quot;line-height:1.5 !important;\">);\r\n    }\r\n\r\n    @RequestMapping(value </span>= \"/way/fifth/{key}\", method =<span style=\"font-family:&quot;line-height:1.5 !important;\"> RequestMethod.GET)\r\n    @ResponseBody </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">public</span> String getPropertyByFifthWay(@PathVariable(\"key\"<span style=\"font-family:&quot;line-height:1.5 !important;\">) String key){ </span><span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">return</span> PropertyUtil.getProperty(key, \"defaultValue\"<span style=\"font-family:&quot;line-height:1.5 !important;\">);\r\n    }\r\n}</span></pre>\r\n</div>\r\n<p style=\"color:#505050;font-family:&quot;font-size:14px;text-align:justify;background-color:#FFFFFF;\">\r\n	4.jdbc.properties文件\r\n</p>\r\n<div class=\"cnblogs_code\" style=\"margin:5px 0px;padding:0px;background-color:#F5F5F5;border:1px solid #CCCCCC;text-align:justify;font-family:&quot;\">\r\n<pre>jdbc.driver=<span style=\"font-family:&quot;line-height:1.5 !important;\">com.mysql.jdbc.Driver\r\njdbc.url</span>=jdbc:mysql:<span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">//</span><span style=\"color:#008000;font-family:&quot;line-height:1.5 !important;\">192.168.1.196:3306/dev?useUnicode=true&amp;characterEncoding=UTF-8</span> jdbc.username=<span style=\"font-family:&quot;line-height:1.5 !important;\">root\r\njdbc.password</span>=123456<span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.maxActive</span>=200<span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.minIdle</span>=5<span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.initialSize</span>=1<span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.maxWait</span>=60000<span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.timeBetweenEvictionRunsMillis</span>=60000<span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.minEvictableIdleTimeMillis</span>=300000<span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.validationQuery</span>=select 1<span style=\"font-family:&quot;line-height:1.5 !important;\"> from t_user\r\njdbc.testWhileIdle</span>=<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">true</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.testOnReturn</span>=<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">false</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.poolPreparedStatements</span>=<span style=\"color:#0000FF;font-family:&quot;line-height:1.5 !important;\">true</span><span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.maxPoolPreparedStatementPerConnectionSize</span>=20<span style=\"font-family:&quot;line-height:1.5 !important;\"> jdbc.filters</span>=<span style=\"font-family:&quot;line-height:1.5 !important;\">stat\r\n#test data\r\ntest</span>=com.hafiz.www</pre>\r\n</div>','0','2018-02-23 17:13:33','/images/image/20190219/20190219113145_541.jpg','小谢',0,0,0),(18,7,'大连造船厂','工作','<p>　　大连造船厂是中国航母的诞生地，辽宁舰的改装，首艘国产航母的建造，都发生于此。在可预见的未来，辽宁舰将彻底完成大改重新回到海军服役，而首艘国产航母也可能于4.23日海军节加入海军。</p>\r\n<div class=\"img_wrapper\"><img src=\"//n.sinaimg.cn/mil/crawl/116/w550h366/20190223/RCRI-htknpmh8763667.jpg\" alt=\"\"><span class=\"img_descr\"></span></div>','0','2019-02-23 17:13:36','/images/image/20190219/20190219113145_541.jpg','小谢',1,-1,0),(19,7,'梦中惊醒','惊悚','<span style=\"color:#333333;font-family:&quot;font-size:14px;background-color:#FFFFFF;\">昨天晚上三点被梦惊醒。</span><br />\r\n<span style=\"color:#333333;font-family:&quot;font-size:14px;background-color:#FFFFFF;\">梦里三个人，先出现我和对面一个男的，手里各拿几把手术剪刀✂️，互相喊什么忘记了，他扔了一把过来我躲过去了，我向他扔了一把命中腹部，但没有看到有流血。忽然对面探出另一个男人，飞出一把手术刀过来，直接划破我的右侧颈部，血开始喷，我左手用力压制着，噗噗冒血，我往后退……</span><br />\r\n<span style=\"color:#333333;font-family:&quot;font-size:14px;background-color:#FFFFFF;\">被惊醒……梦里的人总感觉见过……但又想不起来是谁……</span><br />\r\n<p>\r\n	<span style=\"color:#333333;font-family:&quot;font-size:14px;background-color:#FFFFFF;\">看了下时间三点钟，上了趟厕所，又去睡了，但一直没睡好</span>\r\n</p>\r\n<p>\r\n	<span style=\"color:#333333;font-family:&quot;font-size:14px;background-color:#FFFFFF;\"><img src=\"/images/image/20180223/20180223171820_513.jpg\" alt=\"\" /><br />\r\n</span>\r\n</p>','0','2018-03-02 15:02:55','/images/image/20190219/20190219113145_541.jpg','小谢',2,-1,0),(20,7,'测试惊悚梦','惊悚','6666','0','2019-02-18 21:21:22','/images/image/20190219/20190219113145_541.jpg','小谢',1,0,1);

/*Table structure for table `user_info` */

DROP TABLE IF EXISTS `user_info`;

CREATE TABLE `user_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `u_id` bigint(20) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `sex` varchar(1) DEFAULT NULL,
  `birthday` date DEFAULT NULL,
  `hobby` varchar(255) DEFAULT NULL,
  `address` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `user_info_index_key` (`id`),
  KEY `FK_Reference_5` (`u_id`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

/*Data for the table `user_info` */

insert  into `user_info`(`id`,`u_id`,`name`,`sex`,`birthday`,`hobby`,`address`) values (1,7,'XR','0','2019-02-21',NULL,'深圳');

/*!50106 set global event_scheduler = 1*/;

/* Event structure for event `e_delete_upvote` */

/*!50106 DROP EVENT IF EXISTS `e_delete_upvote`*/;

DELIMITER $$

/*!50106 CREATE DEFINER=`root`@`localhost` EVENT `e_delete_upvote` ON SCHEDULE EVERY 1 DAY STARTS '2019-02-18 00:00:00' ON COMPLETION PRESERVE ENABLE DO TRUNCATE TABLE dream_db.upvote */$$
DELIMITER ;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
